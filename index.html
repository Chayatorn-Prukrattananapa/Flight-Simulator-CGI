<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plane Game</title>
    <style>
        html,
        body {
            margin: 0;
            height: 100%;
        }

        #c {
            width: 100%;
            height: 100%;
            display: block;
        }
    </style>
</head>

<body>
    <canvas id="c"></canvas>

    <script type="module">
        import * as THREE from "https://threejsfundamentals.org/threejs/resources/threejs/r132/build/three.module.js";
        import { OrbitControls } from "https://threejsfundamentals.org/threejs/resources/threejs/r132/examples/jsm/controls/OrbitControls.js";
        import { GLTFLoader } from "https://threejsfundamentals.org/threejs/resources/threejs/r132/examples/jsm/loaders/GLTFLoader.js";

        function main() {

            // Set up scene
            const scene = new THREE.Scene();

            // Set up camera
            const camera = new THREE.PerspectiveCamera(
                45,
                window.innerWidth / window.innerHeight,
                0.1,
                10000
            );
            camera.position.set(0, 50, 0);
            camera.lookAt(scene.position);

            // Set up renderer
            const canvas = document.querySelector("#c");
            const renderer = new THREE.WebGLRenderer({ canvas });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor('lightblue');

            // Set up lighting
            const light = new THREE.HemisphereLight(0xffffff, 0x444444);
            scene.add(light);


            // Load model
            let planeModel;

            const loader = new GLTFLoader();
            loader.load('src/911.gltf', (gltf) => {
                planeModel = gltf.scene;
                scene.add(planeModel);
            });

            // Set up controls
            const controls = new OrbitControls(camera, renderer.domElement);

            // Animation loop
            function animate() {
                requestAnimationFrame(animate);

                
                controls.update();
                renderer.render(scene, camera);
            }

            animate();

            // Handle window resize
            window.addEventListener("resize", () => {
                const newWidth = window.innerWidth;
                const newHeight = window.innerHeight;

                camera.aspect = newWidth / newHeight;
                camera.updateProjectionMatrix();

                renderer.setSize(newWidth, newHeight);
            });
        }

        main();

    </script>
</body>

</html>